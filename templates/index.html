{% extends "base.html" %}

{% block content %}

<h1>My Notes</h1>

<form class="search" method="GET" action="/">
    <input type="text" name="q" placeholder="Search notes..." value="{{ query }}">
    <button type="submit">Search</button>
    {% if query %}
        <a href="/">Clear</a>
    {% endif %}
</form>

{% if notes %}
    <div class="notes-grid">
        {% for note in notes %}
        <a class="note-card" href="/note/{{ note['id'] }}">
            <div>
                <h2>{{ note["title"] }}</h2>
                <p class="date">{{ note["created"] }}</p>
            </div>
            <span class="arrow">â†’</span>
        </a>
        {% endfor %}
    </div>
{% else %}
    <div class="empty">
        {% if query %}
            <p>No notes found for "<strong>{{ query }}</strong>"</p>
            <a href="/">Clear search</a>
        {% else %}
            <p>No notes yet.</p>
            <a href="/new">Create your first note</a>
        {% endif %}
    </div>
{% endif %}

{% endblock %}